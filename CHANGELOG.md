## [Unreleased]

### Added
- 附件过滤功能：支持按类型和大小过滤附件 @2025-02-27
  * 新增配置选项，支持按MIME类型过滤
  * 支持按文件扩展名过滤
  * 支持按文件大小过滤
  * 可在config.py中自定义过滤规则

- Dify客户端改进：优化文件上传功能 @2025-02-25
  * 改进请求体格式，支持 multipart/form-data
  * 优化文件上传和JSON配置处理
  * 添加文件上传进度日志
  * 完善错误处理机制

- Jira爬虫改进：附件目录优化 @2025-02-24
  * 为每个问题创建独立附件目录（{issue-key}-attachments）
  * 将附件存放到对应问题的目录中
  * 仅在问题有附件时创建目录
  * 优化附件下载和目录管理逻辑

- 新增Dify文档上传工具 @2025-02-21
  * 自动处理output目录文件
  * 环境变量配置支持
  * 完整的日志记录系统
  * 上传进度实时显示

- 新增Jira爬虫模块 @2025-02-15
  * 实现Jira系统数据抓取功能
  * 支持问题列表和详情页处理
  * 集成现有文本优化功能
  * 实现分页导出为Markdown格式

- 新增jira爬虫功能
  * 实现评论功能的抓取

- 新增KMS爬虫模块 @2025-02-15
- 新增文本优化模块 @2025-02-15
- 新增文本分割模块 @2025-02-15

- 🎉 新增百度文库爬虫模块 @2025-02-22
  * 实现百度首页热词抓取功能
  * 支持文档列表和详情页处理
  * 实现分页导出为Markdown格式
  * 新增百度热搜爬虫项目，包含爬虫、数据模型、管道和中间件实现；更新依赖和配置文件，优化日志记录和输出结构

### Changed
- 统一日志记录系统 @2025-02-21
  * 为KMS爬虫添加日志记录功能
  * 统一日志格式和输出方式
  * 分离文件日志和控制台日志
  * 优化日志目录结构

- Jira爬虫优化：支持大规模数据抓取 @2025-02-21
  * 改用API分页接口，突破3000条限制
  * 添加命令行参数配置支持
  * 优化认证和请求重试机制
  * 完善日志记录系统

- Jira爬虫优化：重构数据提取逻辑 @2025-02-19
  * 使用 Pydantic 模型规范数据结构
  * 集中管理选择器配置
  * 优化字段提取流程
  * 修复数据类型转换问题

## [1.0.0] - 2025-02-14
* 完成用户登录核心功能
* 优化数据统计模块性能
* 修复注册页面的小 bug
  - 创建 TreeExtractor 类专门处理导航树解析逻辑
  - 从 ConfluenceSpider 类中分离树结构处理代码
  - 改善代码组织结构，提高可维护性

### 优化
- 改进导航树节点提取逻辑 @2025-02-07
  - 添加递归处理未展开子节点的功能
  - 优化节点展开机制，通过 AJAX 请求获取完整链接
  - 添加时间戳参数，避免缓存影响
  - 改进错误处理和日志记录
- 优化crawler授权登录过程
  - 采用内置的cookies 机制，避免重复登录
  - 利用scrapy的session机制，保持登录状态

### Bug修复
- 修复导航树节点递归处理问题 @2025-02-07
  - 添加缺失的必要参数（startDepth，mobile，treePageId）
  - 限制未展开节点处理在active_node范围内
  - 优化参数传递机制，确保递归处理正确性

### Fix
- 优化树节点提取器(TreeExtractor)的选择范围，限制为仅获取active节点下第一层级的未展开节点 @2025-02-08
- 优化内容优化器的提示信息，调整树提取器的参数处理逻辑 @2025-02-10
- 优化树节点提取器的选择范围，限制为仅获取active节点下第一层级的未展开节点 @2025-02-10
- 修复文档导出目录结构问题 @2025-02-11
  - 修复路径构建和传递逻辑，提前计算并统一使用current_output_path
  - 优化展开节点时的深度计算，移除重复定义
  - 简化父子路径传递机制，直接继承output_path
  - 统一常规节点和展开节点的路径构建方式

### Chore
- 更新爬虫启动 URL，添加页面深度信息字段，优化认证请求逻辑，改进树提取器的元数据处理 @2025-02-10
- 更新项目初始化规范，改用 pyproject.toml 管理依赖，优化内容优化器的文档处理逻辑，调整爬虫启动 URL @2025-02-10
- 重构项目结构，移除不必要的配置文件，添加 Dify 核心功能模块和 API 集成，优化文档处理逻辑 @2025-02-10
- 优化导航树提取逻辑，改进节点展开机制和错误处理 @2025-02-10
- 重构导航树提取逻辑，创建 TreeExtractor 类以提高可维护性 @2025-02-10