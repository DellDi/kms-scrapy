# Changelog### 重构
- 重构树结构提取相关代码 @2025-02-07
  - 创建 TreeExtractor 类专门处理导航树解析逻辑
  - 从 ConfluenceSpider 类中分离树结构处理代码
  - 改善代码组织结构，提高可维护性

### 优化
- 改进导航树节点提取逻辑 @2025-02-07
  - 添加递归处理未展开子节点的功能
  - 优化节点展开机制，通过 AJAX 请求获取完整链接
  - 添加时间戳参数，避免缓存影响
  - 改进错误处理和日志记录

### Bug修复
- 修复导航树节点递归处理问题 @2025-02-07
  - 添加缺失的必要参数（startDepth，mobile，treePageId）
  - 限制未展开节点处理在active_node范围内
  - 优化参数传递机制，确保递归处理正确性## [Unreleased]
### Fix
- 优化树节点提取器(TreeExtractor)的选择范围，限制为仅获取active节点下第一层级的未展开节点 @2025-02-08
- 优化内容优化器的提示信息，调整树提取器的参数处理逻辑 @2025-02-10
- 优化树节点提取器的选择范围，限制为仅获取active节点下第一层级的未展开节点 @2025-02-10
- 修复文档导出目录结构问题 @2025-02-11
  - 修复路径构建和传递逻辑，提前计算并统一使用current_output_path
  - 优化展开节点时的深度计算，移除重复定义
  - 简化父子路径传递机制，直接继承output_path
  - 统一常规节点和展开节点的路径构建方式

### Chore
- 更新爬虫启动 URL，添加页面深度信息字段，优化认证请求逻辑，改进树提取器的元数据处理 @2025-02-10
- 更新项目初始化规范，改用 pyproject.toml 管理依赖，优化内容优化器的文档处理逻辑，调整爬虫启动 URL @2025-02-10
- 重构项目结构，移除不必要的配置文件，添加 Dify 核心功能模块和 API 集成，优化文档处理逻辑 @2025-02-10
- 优化导航树提取逻辑，改进节点展开机制和错误处理 @2025-02-10
- 重构导航树提取逻辑，创建 TreeExtractor 类以提高可维护性 @2025-02-10